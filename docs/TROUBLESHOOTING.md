# 🔧 Solucionando Problemas de Import\n\n## ❌ Problema Reportado\n\nErros de import no main.py:\n```python\nfrom ocr.processor import OCRProcessor  # Import \"ocr.processor\" could not be resolved\nfrom services import BatchManager       # Import \"services\" could not be resolved  \nfrom utils import (...)                 # Import \"utils\" could not be resolved\n```\n\n## ✅ Soluções\n\n### 1. **Verificação da Estrutura do Projeto**\n\nCertifique-se de que sua estrutura está assim:\n```\nnr13-ocr-system/\n├── main.py              ← Você deve estar aqui\n├── config/\n│   ├── __init__.py\n│   ├── settings.py\n│   └── field_mappings.yaml\n├── ocr/\n│   ├── __init__.py\n│   ├── processor.py     ← Este arquivo deve existir\n│   ├── models.py\n│   └── normalizer.py\n├── services.py          ← Este arquivo deve existir\n├── utils.py             ← Este arquivo deve existir\n├── requirements.txt\n└── .env\n```\n\n### 2. **Verificação dos Arquivos `__init__.py`**\n\nOs arquivos `__init__.py` devem existir nas pastas:\n- `config/__init__.py`\n- `ocr/__init__.py`\n\n**Se não existirem, crie-os:**\n```bash\n# No diretório raiz do projeto\ntouch config/__init__.py\ntouch ocr/__init__.py\n```\n\n### 3. **Verificação do Diretório de Trabalho**\n\n**Execute sempre a partir da raiz do projeto:**\n```bash\n# Navegue para o diretório do projeto\ncd nr13-ocr-system\n\n# Verifique se está no lugar certo\nls -la\n# Deve mostrar: main.py, config/, ocr/, services.py, utils.py\n\n# Execute o sistema\npython main.py\n```\n\n### 4. **Verificação do Ambiente Virtual**\n\n```bash\n# Ative o ambiente virtual\n# Linux/Mac:\nsource venv/bin/activate\n\n# Windows:\nvenv\\Scripts\\activate\n\n# Verifique se as dependências estão instaladas\npip list\n\n# Se necessário, reinstale\npip install -r requirements.txt\n```\n\n### 5. **Teste de Diagnóstico**\n\nO sistema agora inclui diagnósticos automáticos. Execute:\n\n```bash\npython main.py\n```\n\nSe houver problemas, você verá mensagens como:\n```\n❌ Erro ao importar módulos: No module named 'ocr.processor'\n\n🔧 Soluções possíveis:\n1. Verifique se está no diretório correto do projeto\n2. Execute: pip install -r requirements.txt\n3. Ative o ambiente virtual se estiver usando\n4. Verifique se todos os arquivos .py estão presentes\n5. Diretório atual: /caminho/atual\n6. Diretório do projeto: /caminho/projeto\n```\n\n### 6. **Correção Manual dos Imports (se necessário)**\n\nSe ainda houver problemas, você pode testar os imports individualmente:\n\n```python\n# Teste no Python interativo\npython\n\n>>> import sys\n>>> from pathlib import Path\n>>> sys.path.insert(0, str(Path.cwd()))\n>>> \n>>> # Teste cada import\n>>> from config.settings import settings\n>>> from ocr.processor import OCRProcessor\n>>> from services import BatchManager\n>>> from utils import get_logger\n>>> \n>>> print(\"✅ Todos os imports funcionaram!\")\n```\n\n### 7. **Problemas Específicos do IDE**\n\n#### **VS Code**\n```json\n// .vscode/settings.json\n{\n    \"python.analysis.extraPaths\": [\".\"],\n    \"python.defaultInterpreterPath\": \"./venv/bin/python\",\n    \"python.analysis.autoImportCompletions\": true\n}\n```\n\n#### **PyCharm**\n1. File → Settings → Project → Python Interpreter\n2. Selecione o ambiente virtual correto\n3. Mark Directory as → Sources Root (clique direito na pasta raiz)\n\n#### **Outros IDEs**\n- Certifique-se de que o diretório raiz está marcado como \"source root\"\n- Configure o interpretador Python para usar o ambiente virtual\n\n### 8. **Verificação de Arquivos Obrigatórios**\n\nExecute este script para verificar se todos os arquivos estão presentes:\n\n```bash\n# Crie um arquivo de teste\ncat > check_files.py << 'EOF'\n#!/usr/bin/env python3\nfrom pathlib import Path\n\nrequired_files = [\n    'main.py',\n    'config/__init__.py',\n    'config/settings.py', \n    'config/field_mappings.yaml',\n    'ocr/__init__.py',\n    'ocr/processor.py',\n    'ocr/models.py',\n    'ocr/normalizer.py',\n    'services.py',\n    'utils.py',\n    'requirements.txt',\n    '.env.example'\n]\n\nproject_root = Path('.')\nmissing = []\n\nfor file_path in required_files:\n    if not (project_root / file_path).exists():\n        missing.append(file_path)\n\nif missing:\n    print(\"❌ Arquivos faltando:\")\n    for f in missing:\n        print(f\"   • {f}\")\nelse:\n    print(\"✅ Todos os arquivos obrigatórios estão presentes!\")\nEOF\n\n# Execute o teste\npython check_files.py\n```\n\n### 9. **Reinstalação Completa (último recurso)**\n\nSe nada funcionar, faça uma reinstalação limpa:\n\n```bash\n# 1. Baixe novamente o projeto\ngit clone https://github.com/ffreitasb/nr13-ocr-system.git\ncd nr13-ocr-system\n\n# 2. Crie novo ambiente virtual\npython -m venv venv_new\nsource venv_new/bin/activate  # Linux/Mac\n# venv_new\\Scripts\\activate    # Windows\n\n# 3. Instale dependências\npip install -r requirements.txt\n\n# 4. Configure API key\ncp .env.example .env\n# Edite .env com sua MISTRAL_API_KEY\n\n# 5. Teste\npython main.py\n```\n\n### 10. **Debug Avançado**\n\nSe o problema persistir, use este script de debug:\n\n```python\n#!/usr/bin/env python3\nimport sys\nimport os\nfrom pathlib import Path\n\nprint(\"🔍 DIAGNÓSTICO AVANÇADO\")\nprint(\"=\" * 50)\n\nprint(f\"📁 Diretório atual: {Path.cwd()}\")\nprint(f\"🐍 Python: {sys.version}\")\nprint(f\"📦 Sys.path:\")\nfor i, path in enumerate(sys.path):\n    print(f\"   {i}: {path}\")\n\nprint(\"\\n📋 Estrutura do projeto:\")\nfor root, dirs, files in os.walk('.'):\n    level = root.replace('.', '').count(os.sep)\n    indent = ' ' * 2 * level\n    print(f\"{indent}{os.path.basename(root)}/\")\n    subindent = ' ' * 2 * (level + 1)\n    for file in files:\n        if file.endswith(('.py', '.yaml', '.txt', '.md')):\n            print(f\"{subindent}{file}\")\n\nprint(\"\\n🧪 Teste de imports:\")\ntry:\n    sys.path.insert(0, str(Path.cwd()))\n    \n    from config.settings import settings\n    print(\"✅ config.settings OK\")\n    \n    from ocr.processor import OCRProcessor\n    print(\"✅ ocr.processor OK\")\n    \n    from services import BatchManager\n    print(\"✅ services OK\")\n    \n    from utils import get_logger\n    print(\"✅ utils OK\")\n    \n    print(\"\\n🎉 TODOS OS IMPORTS FUNCIONARAM!\")\n    \nexcept ImportError as e:\n    print(f\"❌ Erro de import: {e}\")\n    print(\"\\n🔧 Verifique se todos os arquivos estão presentes\")\n```\n\n## 🎯 **Solução Mais Provável**\n\nNa maioria dos casos, o problema é um dos seguintes:\n\n1. **❌ Diretório errado**: Não está executando da pasta raiz\n2. **❌ Arquivos __init__.py faltando**: Crie-os nas pastas config/ e ocr/\n3. **❌ Ambiente virtual**: Não está ativado ou dependências não instaladas\n4. **❌ IDE mal configurado**: Não reconhece a estrutura do projeto\n\n## ✅ **Verificação Final**\n\nAntes de reportar qualquer problema, execute:\n\n```bash\n# 1. Confirme que está na pasta certa\npwd\nls main.py  # Deve existir\n\n# 2. Confirme os arquivos __init__.py\nls config/__init__.py ocr/__init__.py\n\n# 3. Teste o sistema\npython main.py\n```\n\nSe ainda houver problemas após todas essas verificações, reporte com:\n- Output completo do erro\n- Resultado do script de debug\n- Sistema operacional\n- Versão do Python\n\n---\n\n**🚀 O sistema foi testado e funciona corretamente quando a estrutura está adequada!**\n